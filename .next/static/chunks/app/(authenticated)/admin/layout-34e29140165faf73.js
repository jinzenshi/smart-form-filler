(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{263:function(e,t,r){Promise.resolve().then(r.bind(r,1843)),Promise.resolve().then(r.bind(r,4705)),Promise.resolve().then(r.bind(r,5722))},8030:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:l="",children:u,iconNode:d,...m}=e;return(0,n.createElement)("svg",{ref:t,...a,width:s,height:s,stroke:r,strokeWidth:c?24*Number(o)/Number(s):o,className:i("lucide",l),...m},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let r=(0,n.forwardRef)((r,a)=>{let{className:c,...l}=r;return(0,n.createElement)(o,{ref:a,iconNode:t,className:i("lucide-".concat(s(e)),c),...l})});return r.displayName="".concat(e),r}},4697:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(8030).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},1843:function(e,t,r){"use strict";r.d(t,{AdminHeader:function(){return o}});var n=r(7437),s=r(6463),i=r(6760),a=r(2265);function o(e){let{username:t}=e,r=(0,s.useRouter)(),[o,c]=(0,a.useState)(!1);return(0,n.jsx)("header",{className:"bg-white border-b sticky top-0 z-100",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-amber-600 text-xl",children:"◇"}),(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:"管理后台"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("button",{onClick:()=>{c(!o),document.documentElement.classList.toggle("dark")},className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-lg",children:o?"☀":"☾"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["管理员 \xb7 ",t]}),(0,n.jsx)("a",{href:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:"返回工作台"}),(0,n.jsx)(i.z,{variant:"danger",size:"sm",onClick:()=>{document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",r.push("/login")},children:"退出"})]})]})]})})}},4705:function(e,t,r){"use strict";r.d(t,{AdminTabs:function(){return l}});var n=r(7437),s=r(231),i=r.n(s),a=r(6463),o=r(9354);let c=[{key:"users",label:"用户管理",icon:"◈"},{key:"temp-accounts",label:"临时账号",icon:"◇"},{key:"tokens",label:"Token管理",icon:"◈"},{key:"files",label:"文件管理",icon:"\uD83D\uDCC1"},{key:"logs",label:"操作日志",icon:"✎"},{key:"feedbacks",label:"用户反馈",icon:"✉"}];function l(){let e=(0,a.usePathname)(),t=e.split("/").pop()||"users";return(0,n.jsx)("nav",{className:"flex gap-2 p-2 bg-white rounded-lg shadow-sm border mt-6",children:c.map(r=>{let s="/admin/".concat(r.key),a=t===r.key||"users"===r.key&&"/admin"===e;return(0,n.jsxs)(i(),{href:s,className:(0,o.cn)("flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-md font-medium transition-all",a?"bg-gradient-to-r from-amber-500 to-amber-600 text-white":"text-gray-600 hover:bg-gray-50"),children:[(0,n.jsx)("span",{className:"text-sm",children:r.icon}),r.label]},r.key)})})}},5722:function(e,t,r){"use strict";r.d(t,{ToastProvider:function(){return d},p:function(){return m}});var n=r(7437),s=r(2265),i=r(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,i.Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),o=(0,i.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),c=(0,i.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var l=r(4697);let u=(0,s.createContext)(null);function d(e){let{children:t}=e,[r,i]=(0,s.useState)([]),d=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=Date.now();i(n=>[...n,{id:r,type:t,message:e}]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==r))},3e3)},[]),m=e=>{i(t=>t.filter(t=>t.id!==e))},f={success:(0,n.jsx)(a,{className:"w-5 h-5 text-green-500"}),error:(0,n.jsx)(o,{className:"w-5 h-5 text-red-500"}),info:(0,n.jsx)(c,{className:"w-5 h-5 text-blue-500"})},h={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200"};return(0,n.jsxs)(u.Provider,{value:{success:e=>d(e,"success"),error:e=>d(e,"error"),info:e=>d(e,"info")},children:[t,(0,n.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:r.map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ".concat(h[e.type]),children:[f[e.type],(0,n.jsx)("span",{className:"text-sm font-medium",children:e.message}),(0,n.jsx)("button",{onClick:()=>m(e.id),className:"ml-2",children:(0,n.jsx)(l.Z,{className:"w-4 h-4 text-gray-400"})})]},e.id))})]})}function m(){return(0,s.useContext)(u)||{success:e=>console.log(e),error:e=>console.error(e),info:e=>console.log(e)}}},6760:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(7437),s=r(9354);let i=(0,r(2265).forwardRef)((e,t)=>{let{className:r,variant:i="primary",size:a="md",disabled:o,children:c,...l}=e;return(0,n.jsx)("button",{ref:t,disabled:o,className:(0,s.cn)("inline-flex items-center justify-center font-medium rounded-md transition-all","disabled:opacity-50 disabled:cursor-not-allowed",{"bg-primary text-white hover:bg-primary-dark":"primary"===i,"bg-gray-100 text-gray-700 hover:bg-gray-200":"secondary"===i,"bg-red-50 text-red-600 hover:bg-red-100":"danger"===i,"bg-transparent text-gray-600 hover:bg-gray-100":"ghost"===i,"px-2 py-1 text-sm":"sm"===a,"px-4 py-2":"md"===a,"px-6 py-3 text-lg":"lg"===a},r),...l,children:c})});i.displayName="Button"},9354:function(e,t,r){"use strict";r.d(t,{K7:function(){return u},cn:function(){return i},mE:function(){return c},ol:function(){return d},p1:function(){return l},p6:function(){return o},sS:function(){return a}});var n=r(4839),s=r(6164);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function a(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"}function o(e){if(!e)return"-";let t=new Date(e);return t.setMinutes(t.getMinutes()+552),t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function c(e){return({docx:"DOCX文档",user_info:"个人信息",screenshot:"反馈截图"})[e]||e}function l(e){return({docx:"badge-blue",user_info:"badge-green",screenshot:"badge-purple"})[e]||""}function u(e){return({suggestion:"功能建议",bug:"Bug报告",ux:"用户体验",performance:"性能问题",other:"其他"})[e]||e}function d(e){return({pending:"待处理",processing:"处理中",resolved:"已解决",closed:"已关闭"})[e]||e}}},function(e){e.O(0,[868,231,971,23,744],function(){return e(e.s=263)}),_N_E=e.O()}]);