(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{6390:function(e,t,r){Promise.resolve().then(r.bind(r,1440))},8030:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:l="",children:o,iconNode:u,...x}=e;return(0,n.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:d?24*Number(i)/Number(a):i,className:s("lucide",l),...x},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let r=(0,n.forwardRef)((r,c)=>{let{className:d,...l}=r;return(0,n.createElement)(i,{ref:c,iconNode:t,className:s("lucide-".concat(a(e)),d),...l})});return r.displayName="".concat(e),r}},4697:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(8030).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8064:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let n=r(4590);function a(e){let{createServerReference:t}=r(6671);return t(e,n.callServer)}},1440:function(e,t,r){"use strict";r.d(t,{TempAccountsTab:function(){return x}});var n=r(7437),a=r(2265),s=r(649),c=r(6760),i=r(9155);let d=(0,a.forwardRef)((e,t)=>(0,n.jsx)("input",{ref:t,type:"checkbox",className:"w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",...e}));d.displayName="Checkbox";var l=r(9354),o=r(5105),u=r(5722);function x(e){let{initialAccounts:t}=e,[r,x]=(0,a.useState)(t),[f,m]=(0,a.useState)([]),[p,h]=(0,a.useState)(!1),[g,b]=(0,a.useState)(7),[y,j]=(0,a.useTransition)(),N=(0,u.p)(),v=p?r:r.filter(e=>!e.is_expired),w=v.length>0&&f.length===v.length,k=e=>{m(e?v.map(e=>e.username):[])},C=(e,t)=>{t?m([...f,e]):m(f.filter(t=>t!==e))},$=async e=>{confirm("确定删除临时账号 ".concat(e,"？"))&&j(async()=>{try{await (0,o.nr)(e),x(t=>t.filter(t=>t.username!==e)),N.success("删除成功")}catch(e){N.error("删除失败")}})},_=async()=>{confirm("确定删除选中的 ".concat(f.length," 个临时账号？"))&&j(async()=>{try{await (0,o.NQ)(f),x(e=>e.filter(e=>!f.includes(e.username))),m([]),N.success("批量删除成功")}catch(e){N.error("批量删除失败")}})},z=async()=>{g<1||j(async()=>{try{let e=await (0,o.aJ)(g);x(t=>[e.account,...t]),await navigator.clipboard.writeText("".concat(e.account.username,"\n").concat(e.account.password)),N.success("账号创建成功！已复制到剪贴板")}catch(e){N.error("创建失败")}})};return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"临时账号管理"}),(0,n.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,n.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[(0,n.jsx)(i.I,{type:"number",value:g,onChange:e=>b(Number(e.target.value)),min:1,max:365,className:"w-20 border-none focus:outline-none focus:ring-0"}),(0,n.jsx)("span",{className:"px-3 bg-gray-100 text-gray-600 text-sm",children:"天"})]}),(0,n.jsx)(c.z,{onClick:z,disabled:y,variant:"primary",children:y?"创建中...":"创建账号"}),(0,n.jsx)(c.z,{onClick:()=>h(!p),variant:"ghost",children:p?"隐藏过期":"显示过期"})]})]}),f.length>0&&(0,n.jsxs)("div",{className:"flex gap-3 items-center p-3 bg-amber-50 rounded-md border border-amber-200",children:[(0,n.jsxs)("span",{children:["已选择 ",f.length," 个"]}),(0,n.jsx)(c.z,{onClick:_,disabled:y,variant:"danger",size:"sm",children:"批量删除"}),(0,n.jsx)(c.z,{onClick:()=>m([]),variant:"ghost",size:"sm",children:"取消选择"})]}),(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"w-12 px-4 py-3",children:(0,n.jsx)(d,{checked:w,onChange:e=>k(e.target.checked)})}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"用户名"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"密码"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"创建时间"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"过期时间"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"剩余天数"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"状态"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"操作"})]})}),(0,n.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[v.map(e=>{var t;return(0,n.jsxs)("tr",{className:"hover:bg-amber-50 transition-colors",children:[(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)(d,{checked:f.includes(e.username),onChange:t=>C(e.username,t.target.checked)})}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)("span",{className:"font-medium",children:e.username})}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:e.password})}),(0,n.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:(0,l.p6)(e.created_at)}),(0,n.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.expires_at?(0,l.p6)(e.expires_at):"-"}),(0,n.jsx)("td",{className:"px-4 py-3 text-sm",children:null!==(t=e.days_remaining)&&void 0!==t?t:"-"}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)(s.C,{variant:e.is_expired?"red":"green",children:e.is_expired?"已过期":"有效"})}),(0,n.jsx)("td",{className:"px-4 py-3",children:(0,n.jsx)(c.z,{onClick:()=>$(e.username),variant:"danger",size:"sm",children:"删除"})})]},e.username)}),0===v.length&&(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"暂无临时账号"})})]})]})})]})}},5722:function(e,t,r){"use strict";r.d(t,{ToastProvider:function(){return u},p:function(){return x}});var n=r(7437),a=r(2265),s=r(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s.Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),i=(0,s.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),d=(0,s.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var l=r(4697);let o=(0,a.createContext)(null);function u(e){let{children:t}=e,[r,s]=(0,a.useState)([]),u=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=Date.now();s(n=>[...n,{id:r,type:t,message:e}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==r))},3e3)},[]),x=e=>{s(t=>t.filter(t=>t.id!==e))},f={success:(0,n.jsx)(c,{className:"w-5 h-5 text-green-500"}),error:(0,n.jsx)(i,{className:"w-5 h-5 text-red-500"}),info:(0,n.jsx)(d,{className:"w-5 h-5 text-blue-500"})},m={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200"};return(0,n.jsxs)(o.Provider,{value:{success:e=>u(e,"success"),error:e=>u(e,"error"),info:e=>u(e,"info")},children:[t,(0,n.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:r.map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ".concat(m[e.type]),children:[f[e.type],(0,n.jsx)("span",{className:"text-sm font-medium",children:e.message}),(0,n.jsx)("button",{onClick:()=>x(e.id),className:"ml-2",children:(0,n.jsx)(l.Z,{className:"w-4 h-4 text-gray-400"})})]},e.id))})]})}function x(){return(0,a.useContext)(o)||{success:e=>console.log(e),error:e=>console.error(e),info:e=>console.log(e)}}},649:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var n=r(7437),a=r(9354);function s(e){let{children:t,variant:r="gray",className:s}=e;return(0,n.jsx)("span",{className:(0,a.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold",{"bg-amber-100 text-amber-700":"amber"===r,"bg-gray-100 text-gray-600":"gray"===r,"bg-green-100 text-green-700":"green"===r,"bg-red-100 text-red-700":"red"===r,"bg-blue-100 text-blue-700":"blue"===r,"bg-yellow-100 text-yellow-700":"yellow"===r,"bg-purple-100 text-purple-700":"purple"===r},s),children:t})}},6760:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(7437),a=r(9354);let s=(0,r(2265).forwardRef)((e,t)=>{let{className:r,variant:s="primary",size:c="md",disabled:i,children:d,...l}=e;return(0,n.jsx)("button",{ref:t,disabled:i,className:(0,a.cn)("inline-flex items-center justify-center font-medium rounded-md transition-all","disabled:opacity-50 disabled:cursor-not-allowed",{"bg-primary text-white hover:bg-primary-dark":"primary"===s,"bg-gray-100 text-gray-700 hover:bg-gray-200":"secondary"===s,"bg-red-50 text-red-600 hover:bg-red-100":"danger"===s,"bg-transparent text-gray-600 hover:bg-gray-100":"ghost"===s,"px-2 py-1 text-sm":"sm"===c,"px-4 py-2":"md"===c,"px-6 py-3 text-lg":"lg"===c},r),...l,children:d})});s.displayName="Button"},9155:function(e,t,r){"use strict";r.d(t,{I:function(){return c}});var n=r(7437),a=r(2265),s=r(9354);let c=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("input",{ref:t,className:(0,s.cn)("px-3 py-2 border border-gray-200 rounded-md text-sm","focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent","placeholder:text-gray-400","disabled:bg-gray-50 disabled:cursor-not-allowed",r),...a})});c.displayName="Input"},5105:function(e,t,r){"use strict";r.d(t,{NQ:function(){return d},X8:function(){return s},_I:function(){return a},aJ:function(){return c},nr:function(){return i}}),r(4590);var n=r(8064),a=(0,n.$)("2537f0970cc942e59ac62a8ce41c4e87b358ad5c");(0,n.$)("258a043927e08ccdd71c91d3e63379b606f40201"),(0,n.$)("8169b0898713d3a98a72ce59b40a0b662355e7f5"),(0,n.$)("a6dd21c3c9b30d7cd514d605a394e13aa287e09c"),(0,n.$)("879f36fcebbf1cc1568a46d7ee3d7e79c42cd2e5"),(0,n.$)("854d5b6f1801a6972e4b5e08fbce4bb653a4997f"),(0,n.$)("1a9bfd6efe5affb0bbb21cab6cc7616b94c6686c"),(0,n.$)("8aefcfd1aa18444ddff647a9d765d712581ab5a2");var s=(0,n.$)("dab1d3728bf2fb50721db5e2e7fa0ebdcfa90529"),c=(0,n.$)("a904f77f4840b341b0f8eea416e7d35426925d97"),i=(0,n.$)("622ce3567e2f7329dc353ec2081913520b194ef1"),d=(0,n.$)("5a3aa42b0c43cc5d6aaf4c207b83081352c754c3");(0,n.$)("4bb502ca318ceb3ac780650a6fc18d0fe373e60c")},9354:function(e,t,r){"use strict";r.d(t,{K7:function(){return o},cn:function(){return s},mE:function(){return d},ol:function(){return u},p1:function(){return l},p6:function(){return i},sS:function(){return c}});var n=r(4839),a=r(6164);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function c(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"}function i(e){if(!e)return"-";let t=new Date(e);return t.setMinutes(t.getMinutes()+552),t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function d(e){return({docx:"DOCX文档",user_info:"个人信息",screenshot:"反馈截图"})[e]||e}function l(e){return({docx:"badge-blue",user_info:"badge-green",screenshot:"badge-purple"})[e]||""}function o(e){return({suggestion:"功能建议",bug:"Bug报告",ux:"用户体验",performance:"性能问题",other:"其他"})[e]||e}function u(e){return({pending:"待处理",processing:"处理中",resolved:"已解决",closed:"已关闭"})[e]||e}}},function(e){e.O(0,[868,971,23,744],function(){return e(e.s=6390)}),_N_E=e.O()}]);