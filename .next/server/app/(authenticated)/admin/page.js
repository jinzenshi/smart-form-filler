(()=>{var e={};e.id=466,e.ids=[466],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6862:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(2702),r(4688),r(2964),r(5866),r(2029);var s=r(3191),n=r(8716),a=r(7922),o=r.n(a),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["(authenticated)",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2702)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/admin/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4688)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2964)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/admin/page.tsx"],u="/(authenticated)/admin/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(authenticated)/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5477:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},9682:()=>{},3308:(e,t,r)=>{Promise.resolve().then(r.bind(r,5143)),Promise.resolve().then(r.bind(r,2246)),Promise.resolve().then(r.bind(r,1865))},5303:()=>{},5143:(e,t,r)=>{"use strict";r.d(t,{AdminHeader:()=>i});var s=r(326),n=r(5047),a=r(9837),o=r(7577);function i({username:e}){let t=(0,n.useRouter)(),[r,i]=(0,o.useState)(!1);return s.jsx("header",{className:"bg-white border-b sticky top-0 z-100",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-amber-600 text-xl",children:"◇"}),s.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"管理后台"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>{i(!r),document.documentElement.classList.toggle("dark")},className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-lg",children:r?"☀":"☾"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["管理员 \xb7 ",e]}),s.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:"返回工作台"}),s.jsx(a.z,{variant:"danger",size:"sm",onClick:()=>{document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",t.push("/login")},children:"退出"})]})]})]})})}},2246:(e,t,r)=>{"use strict";r.d(t,{AdminTabs:()=>l});var s=r(326),n=r(434),a=r(5047),o=r(1223);let i=[{key:"users",label:"用户管理",icon:"◈"},{key:"temp-accounts",label:"临时账号",icon:"◇"},{key:"tokens",label:"Token管理",icon:"◈"},{key:"files",label:"文件管理",icon:"\uD83D\uDCC1"},{key:"logs",label:"操作日志",icon:"✎"},{key:"feedbacks",label:"用户反馈",icon:"✉"}];function l(){let e=(0,a.usePathname)(),t=e.split("/").pop()||"users";return s.jsx("nav",{className:"flex gap-2 p-2 bg-white rounded-lg shadow-sm border mt-6",children:i.map(r=>{let a=`/admin/${r.key}`,i=t===r.key||"users"===r.key&&"/admin"===e;return(0,s.jsxs)(n.default,{href:a,className:(0,o.cn)("flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-md font-medium transition-all",i?"bg-gradient-to-r from-amber-500 to-amber-600 text-white":"text-gray-600 hover:bg-gray-50"),children:[s.jsx("span",{className:"text-sm",children:r.icon}),r.label]},r.key)})})}},1865:(e,t,r)=>{"use strict";r.d(t,{ToastProvider:()=>d,p:()=>u});var s=r(326),n=r(7577),a=r(361),o=r(9669),i=r(8019),l=r(4019);let c=(0,n.createContext)(null);function d({children:e}){let[t,r]=(0,n.useState)([]),d=(0,n.useCallback)((e,t="info")=>{let s=Date.now();r(r=>[...r,{id:s,type:t,message:e}]),setTimeout(()=>{r(e=>e.filter(e=>e.id!==s))},3e3)},[]),u=e=>{r(t=>t.filter(t=>t.id!==e))},m={success:s.jsx(a.Z,{className:"w-5 h-5 text-green-500"}),error:s.jsx(o.Z,{className:"w-5 h-5 text-red-500"}),info:s.jsx(i.Z,{className:"w-5 h-5 text-blue-500"})},x={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200"};return(0,s.jsxs)(c.Provider,{value:{success:e=>d(e,"success"),error:e=>d(e,"error"),info:e=>d(e,"info")},children:[e,s.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:t.map(e=>(0,s.jsxs)("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ${x[e.type]}`,children:[m[e.type],s.jsx("span",{className:"text-sm font-medium",children:e.message}),s.jsx("button",{onClick:()=>u(e.id),className:"ml-2",children:s.jsx(l.Z,{className:"w-4 h-4 text-gray-400"})})]},e.id))})]})}function u(){return(0,n.useContext)(c)||{success:e=>console.log(e),error:e=>console.error(e),info:e=>console.log(e)}}},9837:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var s=r(326),n=r(1223);let a=(0,r(7577).forwardRef)(({className:e,variant:t="primary",size:r="md",disabled:a,children:o,...i},l)=>s.jsx("button",{ref:l,disabled:a,className:(0,n.cn)("inline-flex items-center justify-center font-medium rounded-md transition-all","disabled:opacity-50 disabled:cursor-not-allowed",{"bg-primary text-white hover:bg-primary-dark":"primary"===t,"bg-gray-100 text-gray-700 hover:bg-gray-200":"secondary"===t,"bg-red-50 text-red-600 hover:bg-red-100":"danger"===t,"bg-transparent text-gray-600 hover:bg-gray-100":"ghost"===t,"px-2 py-1 text-sm":"sm"===r,"px-4 py-2":"md"===r,"px-6 py-3 text-lg":"lg"===r},e),...i,children:o}));a.displayName="Button"},1223:(e,t,r)=>{"use strict";r.d(t,{K7:()=>d,cn:()=>a,mE:()=>l,ol:()=>u,p1:()=>c,p6:()=>i,sS:()=>o});var s=r(1135),n=r(1009);function a(...e){return(0,n.m6)((0,s.W)(e))}function o(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"}function i(e){if(!e)return"-";let t=new Date(e);return t.setMinutes(t.getMinutes()+552),t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function l(e){return({docx:"DOCX文档",user_info:"个人信息",screenshot:"反馈截图"})[e]||e}function c(e){return({docx:"badge-blue",user_info:"badge-green",screenshot:"badge-purple"})[e]||""}function d(e){return({suggestion:"功能建议",bug:"Bug报告",ux:"用户体验",performance:"性能问题",other:"其他"})[e]||e}function u(e){return({pending:"待处理",processing:"处理中",resolved:"已解决",closed:"已关闭"})[e]||e}},4688:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(9510),n=r(8570);let a=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminHeader.tsx`),{__esModule:o,$$typeof:i}=a;a.default;let l=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminHeader.tsx#AdminHeader`),c=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminTabs.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let m=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminTabs.tsx#AdminTabs`),x=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/common/Toast.tsx`),{__esModule:g,$$typeof:h}=x;x.default;let p=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/common/Toast.tsx#ToastProvider`);(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/common/Toast.tsx#useToast`);var f=r(5456);function y({children:e}){let{username:t}=(0,f.ts)();return s.jsx(p,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(l,{username:t||"管理员"}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-6",children:[s.jsx(m,{}),s.jsx("div",{className:"mt-6 pb-6",children:e})]})]})})}},2702:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8585);function n(){(0,s.redirect)("/admin/users")}},2964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(9510),n=r(8585),a=r(1615);function o({children:e}){return a.cookies().get("auth_token")?.value||(0,n.redirect)("/login"),s.jsx(s.Fragment,{children:e})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>n});var s=r(9510);r(5023);let n={title:"FillForm",description:"表单填写助手"};function a({children:e}){return s.jsx("html",{lang:"zh-CN",children:s.jsx("body",{className:"min-h-screen bg-gray-50",children:e})})}},5456:(e,t,r)=>{"use strict";r.d(t,{kF:()=>o,ts:()=>i});var s=r(1615),n=r(8585);async function a(){let e=s.cookies().get("auth_token")?.value;return e||(0,n.redirect)("/login"),e}async function o(){let e=await a(),t=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";(await fetch(`${t}/admin/stats`,{headers:{Authorization:`Bearer ${e}`},cache:"no-store"})).ok||((0,s.cookies)().delete("auth_token"),(0,s.cookies)().delete("username"),(0,n.redirect)("/login"))}function i(){return{token:s.cookies().get("auth_token")?.value,username:s.cookies().get("username")?.value}}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[819,404,202],()=>r(6862));module.exports=s})();