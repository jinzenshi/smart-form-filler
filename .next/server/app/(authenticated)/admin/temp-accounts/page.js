(()=>{var e={};e.id=209,e.ids=[209],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2805:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>c.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>l}),a(6694),a(4688),a(2964),a(5866),a(2029);var s=a(3191),r=a(8716),n=a(7922),c=a.n(n),i=a(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let l=["",{children:["(authenticated)",{children:["admin",{children:["temp-accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6694)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/admin/temp-accounts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4688)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2964)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"/Users/cyhuang/Downloads/fillform_nextjs/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/cyhuang/Downloads/fillform_nextjs/src/app/(authenticated)/admin/temp-accounts/page.tsx"],x="/(authenticated)/admin/temp-accounts/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(authenticated)/admin/temp-accounts/page",pathname:"/admin/temp-accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1205:(e,t,a)=>{Promise.resolve().then(a.bind(a,1979))},6242:(e,t,a)=>{"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return r}});let s=a(5424);function r(e){let{createServerReference:t}=a(6493);return t(e,s.callServer)}},1979:(e,t,a)=>{"use strict";a.d(t,{TempAccountsTab:()=>u});var s=a(326),r=a(7577),n=a(6792),c=a(9837),i=a(9175);let d=(0,r.forwardRef)((e,t)=>s.jsx("input",{ref:t,type:"checkbox",className:"w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500",...e}));d.displayName="Checkbox";var l=a(1223),o=a(439),x=a(1865);function u({initialAccounts:e}){let[t,a]=(0,r.useState)(e),[u,m]=(0,r.useState)([]),[p,h]=(0,r.useState)(!1),[f,b]=(0,r.useState)(7),[g,y]=(0,r.useTransition)(),j=(0,x.p)(),v=p?t:t.filter(e=>!e.is_expired),N=v.length>0&&u.length===v.length,w=e=>{m(e?v.map(e=>e.username):[])},_=(e,t)=>{t?m([...u,e]):m(u.filter(t=>t!==e))},P=async e=>{confirm(`确定删除临时账号 ${e}？`)&&y(async()=>{try{await (0,o.nr)(e),a(t=>t.filter(t=>t.username!==e)),j.success("删除成功")}catch{j.error("删除失败")}})},$=async()=>{confirm(`确定删除选中的 ${u.length} 个临时账号？`)&&y(async()=>{try{await (0,o.NQ)(u),a(e=>e.filter(e=>!u.includes(e.username))),m([]),j.success("批量删除成功")}catch{j.error("批量删除失败")}})},k=async()=>{f<1||y(async()=>{try{let e=await (0,o.aJ)(f);a(t=>[e.account,...t]),await navigator.clipboard.writeText(`${e.account.username}
${e.account.password}`),j.success(`账号创建成功！已复制到剪贴板`)}catch{j.error("创建失败")}})};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"临时账号管理"}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden",children:[s.jsx(i.I,{type:"number",value:f,onChange:e=>b(Number(e.target.value)),min:1,max:365,className:"w-20 border-none focus:outline-none focus:ring-0"}),s.jsx("span",{className:"px-3 bg-gray-100 text-gray-600 text-sm",children:"天"})]}),s.jsx(c.z,{onClick:k,disabled:g,variant:"primary",children:g?"创建中...":"创建账号"}),s.jsx(c.z,{onClick:()=>h(!p),variant:"ghost",children:p?"隐藏过期":"显示过期"})]})]}),u.length>0&&(0,s.jsxs)("div",{className:"flex gap-3 items-center p-3 bg-amber-50 rounded-md border border-amber-200",children:[(0,s.jsxs)("span",{children:["已选择 ",u.length," 个"]}),s.jsx(c.z,{onClick:$,disabled:g,variant:"danger",size:"sm",children:"批量删除"}),s.jsx(c.z,{onClick:()=>m([]),variant:"ghost",size:"sm",children:"取消选择"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"w-12 px-4 py-3",children:s.jsx(d,{checked:N,onChange:e=>w(e.target.checked)})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"用户名"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"密码"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"创建时间"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"过期时间"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"剩余天数"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"状态"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"操作"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[v.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-amber-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx(d,{checked:u.includes(e.username),onChange:t=>_(e.username,t.target.checked)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-medium",children:e.username})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:e.password})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:(0,l.p6)(e.created_at)}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.expires_at?(0,l.p6)(e.expires_at):"-"}),s.jsx("td",{className:"px-4 py-3 text-sm",children:e.days_remaining??"-"}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(n.C,{variant:e.is_expired?"red":"green",children:e.is_expired?"已过期":"有效"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(c.z,{onClick:()=>P(e.username),variant:"danger",size:"sm",children:"删除"})})]},e.username)),0===v.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"暂无临时账号"})})]})]})})]})}},6792:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var s=a(326),r=a(1223);function n({children:e,variant:t="gray",className:a}){return s.jsx("span",{className:(0,r.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold",{"bg-amber-100 text-amber-700":"amber"===t,"bg-gray-100 text-gray-600":"gray"===t,"bg-green-100 text-green-700":"green"===t,"bg-red-100 text-red-700":"red"===t,"bg-blue-100 text-blue-700":"blue"===t,"bg-yellow-100 text-yellow-700":"yellow"===t,"bg-purple-100 text-purple-700":"purple"===t},a),children:e})}},9175:(e,t,a)=>{"use strict";a.d(t,{I:()=>c});var s=a(326),r=a(7577),n=a(1223);let c=(0,r.forwardRef)(({className:e,...t},a)=>s.jsx("input",{ref:a,className:(0,n.cn)("px-3 py-2 border border-gray-200 rounded-md text-sm","focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent","placeholder:text-gray-400","disabled:bg-gray-50 disabled:cursor-not-allowed",e),...t}));c.displayName="Input"},439:(e,t,a)=>{"use strict";a.d(t,{NQ:()=>d,X8:()=>n,_I:()=>r,aJ:()=>c,nr:()=>i}),a(5424);var s=a(6242),r=(0,s.$)("2537f0970cc942e59ac62a8ce41c4e87b358ad5c");(0,s.$)("258a043927e08ccdd71c91d3e63379b606f40201"),(0,s.$)("8169b0898713d3a98a72ce59b40a0b662355e7f5"),(0,s.$)("a6dd21c3c9b30d7cd514d605a394e13aa287e09c"),(0,s.$)("879f36fcebbf1cc1568a46d7ee3d7e79c42cd2e5"),(0,s.$)("854d5b6f1801a6972e4b5e08fbce4bb653a4997f"),(0,s.$)("1a9bfd6efe5affb0bbb21cab6cc7616b94c6686c"),(0,s.$)("8aefcfd1aa18444ddff647a9d765d712581ab5a2");var n=(0,s.$)("dab1d3728bf2fb50721db5e2e7fa0ebdcfa90529"),c=(0,s.$)("a904f77f4840b341b0f8eea416e7d35426925d97"),i=(0,s.$)("622ce3567e2f7329dc353ec2081913520b194ef1"),d=(0,s.$)("5a3aa42b0c43cc5d6aaf4c207b83081352c754c3");(0,s.$)("4bb502ca318ceb3ac780650a6fc18d0fe373e60c")},6694:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(9510),r=a(6380),n=a(8570);let c=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/tabs/TempAccountsTab.tsx`),{__esModule:i,$$typeof:d}=c;c.default;let l=(0,n.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/tabs/TempAccountsTab.tsx#TempAccountsTab`);var o=a(5456);async function x(){await (0,o.kF)();let e=await (0,r.getTempAccounts)(!1);return s.jsx(l,{initialAccounts:e})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[819,404,202,341,781],()=>a(2805));module.exports=s})();