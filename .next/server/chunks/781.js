exports.id=781,exports.ids=[781],exports.modules={3091:(e,t,a)=>{let n={"1a9bfd6efe5affb0bbb21cab6cc7616b94c6686c":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.getTempAccounts),"2537f0970cc942e59ac62a8ce41c4e87b358ad5c":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.deleteFile),"258a043927e08ccdd71c91d3e63379b606f40201":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.getAdminStats),"4bb502ca318ceb3ac780650a6fc18d0fe373e60c":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.exportTempAccounts),"5a3aa42b0c43cc5d6aaf4c207b83081352c754c3":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.batchDeleteTempAccounts),"622ce3567e2f7329dc353ec2081913520b194ef1":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.deleteTempAccount),"8169b0898713d3a98a72ce59b40a0b662355e7f5":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.getUsers),"854d5b6f1801a6972e4b5e08fbce4bb653a4997f":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.getFeedbacks),"879f36fcebbf1cc1568a46d7ee3d7e79c42cd2e5":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.getLogs),"8aefcfd1aa18444ddff647a9d765d712581ab5a2":()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.getFiles),a6dd21c3c9b30d7cd514d605a394e13aa287e09c:()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.getSimpleUsers),a904f77f4840b341b0f8eea416e7d35426925d97:()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.createTempAccount),dab1d3728bf2fb50721db5e2e7fa0ebdcfa90529:()=>Promise.resolve().then(a.bind(a,6380)).then(e=>e.generateTokens)};async function s(e,...t){return(await n[e]()).apply(null,t)}e.exports={"1a9bfd6efe5affb0bbb21cab6cc7616b94c6686c":s.bind(null,"1a9bfd6efe5affb0bbb21cab6cc7616b94c6686c"),"2537f0970cc942e59ac62a8ce41c4e87b358ad5c":s.bind(null,"2537f0970cc942e59ac62a8ce41c4e87b358ad5c"),"258a043927e08ccdd71c91d3e63379b606f40201":s.bind(null,"258a043927e08ccdd71c91d3e63379b606f40201"),"4bb502ca318ceb3ac780650a6fc18d0fe373e60c":s.bind(null,"4bb502ca318ceb3ac780650a6fc18d0fe373e60c"),"5a3aa42b0c43cc5d6aaf4c207b83081352c754c3":s.bind(null,"5a3aa42b0c43cc5d6aaf4c207b83081352c754c3"),"622ce3567e2f7329dc353ec2081913520b194ef1":s.bind(null,"622ce3567e2f7329dc353ec2081913520b194ef1"),"8169b0898713d3a98a72ce59b40a0b662355e7f5":s.bind(null,"8169b0898713d3a98a72ce59b40a0b662355e7f5"),"854d5b6f1801a6972e4b5e08fbce4bb653a4997f":s.bind(null,"854d5b6f1801a6972e4b5e08fbce4bb653a4997f"),"879f36fcebbf1cc1568a46d7ee3d7e79c42cd2e5":s.bind(null,"879f36fcebbf1cc1568a46d7ee3d7e79c42cd2e5"),"8aefcfd1aa18444ddff647a9d765d712581ab5a2":s.bind(null,"8aefcfd1aa18444ddff647a9d765d712581ab5a2"),a6dd21c3c9b30d7cd514d605a394e13aa287e09c:s.bind(null,"a6dd21c3c9b30d7cd514d605a394e13aa287e09c"),a904f77f4840b341b0f8eea416e7d35426925d97:s.bind(null,"a904f77f4840b341b0f8eea416e7d35426925d97"),dab1d3728bf2fb50721db5e2e7fa0ebdcfa90529:s.bind(null,"dab1d3728bf2fb50721db5e2e7fa0ebdcfa90529")}},5477:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},9682:()=>{},3308:(e,t,a)=>{Promise.resolve().then(a.bind(a,5143)),Promise.resolve().then(a.bind(a,2246)),Promise.resolve().then(a.bind(a,1865))},5303:()=>{},5143:(e,t,a)=>{"use strict";a.d(t,{AdminHeader:()=>i});var n=a(326),s=a(5047),r=a(9837),c=a(7577);function i({username:e}){let t=(0,s.useRouter)(),[a,i]=(0,c.useState)(!1);return n.jsx("header",{className:"bg-white border-b sticky top-0 z-100",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-amber-600 text-xl",children:"◇"}),n.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"管理后台"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>{i(!a),document.documentElement.classList.toggle("dark")},className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-lg",children:a?"☀":"☾"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["管理员 \xb7 ",e]}),n.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:"返回工作台"}),n.jsx(r.z,{variant:"danger",size:"sm",onClick:()=>{document.cookie="auth_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",t.push("/login")},children:"退出"})]})]})]})})}},2246:(e,t,a)=>{"use strict";a.d(t,{AdminTabs:()=>d});var n=a(326),s=a(434),r=a(5047),c=a(1223);let i=[{key:"users",label:"用户管理",icon:"◈"},{key:"temp-accounts",label:"临时账号",icon:"◇"},{key:"tokens",label:"Token管理",icon:"◈"},{key:"files",label:"文件管理",icon:"\uD83D\uDCC1"},{key:"logs",label:"操作日志",icon:"✎"},{key:"feedbacks",label:"用户反馈",icon:"✉"}];function d(){let e=(0,r.usePathname)(),t=e.split("/").pop()||"users";return n.jsx("nav",{className:"flex gap-2 p-2 bg-white rounded-lg shadow-sm border mt-6",children:i.map(a=>{let r=`/admin/${a.key}`,i=t===a.key||"users"===a.key&&"/admin"===e;return(0,n.jsxs)(s.default,{href:r,className:(0,c.cn)("flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-md font-medium transition-all",i?"bg-gradient-to-r from-amber-500 to-amber-600 text-white":"text-gray-600 hover:bg-gray-50"),children:[n.jsx("span",{className:"text-sm",children:a.icon}),a.label]},a.key)})})}},1865:(e,t,a)=>{"use strict";a.d(t,{ToastProvider:()=>l,p:()=>b});var n=a(326),s=a(7577),r=a(361),c=a(9669),i=a(8019),d=a(4019);let o=(0,s.createContext)(null);function l({children:e}){let[t,a]=(0,s.useState)([]),l=(0,s.useCallback)((e,t="info")=>{let n=Date.now();a(a=>[...a,{id:n,type:t,message:e}]),setTimeout(()=>{a(e=>e.filter(e=>e.id!==n))},3e3)},[]),b=e=>{a(t=>t.filter(t=>t.id!==e))},f={success:n.jsx(r.Z,{className:"w-5 h-5 text-green-500"}),error:n.jsx(c.Z,{className:"w-5 h-5 text-red-500"}),info:n.jsx(i.Z,{className:"w-5 h-5 text-blue-500"})},u={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",info:"bg-blue-50 border-blue-200"};return(0,n.jsxs)(o.Provider,{value:{success:e=>l(e,"success"),error:e=>l(e,"error"),info:e=>l(e,"info")},children:[e,n.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:t.map(e=>(0,n.jsxs)("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg ${u[e.type]}`,children:[f[e.type],n.jsx("span",{className:"text-sm font-medium",children:e.message}),n.jsx("button",{onClick:()=>b(e.id),className:"ml-2",children:n.jsx(d.Z,{className:"w-4 h-4 text-gray-400"})})]},e.id))})]})}function b(){return(0,s.useContext)(o)||{success:e=>console.log(e),error:e=>console.error(e),info:e=>console.log(e)}}},9837:(e,t,a)=>{"use strict";a.d(t,{z:()=>r});var n=a(326),s=a(1223);let r=(0,a(7577).forwardRef)(({className:e,variant:t="primary",size:a="md",disabled:r,children:c,...i},d)=>n.jsx("button",{ref:d,disabled:r,className:(0,s.cn)("inline-flex items-center justify-center font-medium rounded-md transition-all","disabled:opacity-50 disabled:cursor-not-allowed",{"bg-primary text-white hover:bg-primary-dark":"primary"===t,"bg-gray-100 text-gray-700 hover:bg-gray-200":"secondary"===t,"bg-red-50 text-red-600 hover:bg-red-100":"danger"===t,"bg-transparent text-gray-600 hover:bg-gray-100":"ghost"===t,"px-2 py-1 text-sm":"sm"===a,"px-4 py-2":"md"===a,"px-6 py-3 text-lg":"lg"===a},e),...i,children:c}));r.displayName="Button"},1223:(e,t,a)=>{"use strict";a.d(t,{K7:()=>l,cn:()=>r,mE:()=>d,ol:()=>b,p1:()=>o,p6:()=>i,sS:()=>c});var n=a(1135),s=a(1009);function r(...e){return(0,s.m6)((0,n.W)(e))}function c(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"}function i(e){if(!e)return"-";let t=new Date(e);return t.setMinutes(t.getMinutes()+552),t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function d(e){return({docx:"DOCX文档",user_info:"个人信息",screenshot:"反馈截图"})[e]||e}function o(e){return({docx:"badge-blue",user_info:"badge-green",screenshot:"badge-purple"})[e]||""}function l(e){return({suggestion:"功能建议",bug:"Bug报告",ux:"用户体验",performance:"性能问题",other:"其他"})[e]||e}function b(e){return({pending:"待处理",processing:"处理中",resolved:"已解决",closed:"已关闭"})[e]||e}},4688:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(9510),s=a(8570);let r=(0,s.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminHeader.tsx`),{__esModule:c,$$typeof:i}=r;r.default;let d=(0,s.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminHeader.tsx#AdminHeader`),o=(0,s.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminTabs.tsx`),{__esModule:l,$$typeof:b}=o;o.default;let f=(0,s.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/admin/AdminTabs.tsx#AdminTabs`),u=(0,s.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/common/Toast.tsx`),{__esModule:m,$$typeof:h}=u;u.default;let g=(0,s.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/common/Toast.tsx#ToastProvider`);(0,s.createProxy)(String.raw`/Users/cyhuang/Downloads/fillform_nextjs/src/components/common/Toast.tsx#useToast`);var x=a(5456);function p({children:e}){let{username:t}=(0,x.ts)();return n.jsx(g,{children:(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(d,{username:t||"管理员"}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-6",children:[n.jsx(f,{}),n.jsx("div",{className:"mt-6 pb-6",children:e})]})]})})}},2964:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(9510),s=a(8585),r=a(1615);function c({children:e}){return r.cookies().get("auth_token")?.value||(0,s.redirect)("/login"),n.jsx(n.Fragment,{children:e})}},2029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r,metadata:()=>s});var n=a(9510);a(5023);let s={title:"FillForm",description:"表单填写助手"};function r({children:e}){return n.jsx("html",{lang:"zh-CN",children:n.jsx("body",{className:"min-h-screen bg-gray-50",children:e})})}},5456:(e,t,a)=>{"use strict";a.d(t,{kF:()=>c,ts:()=>i});var n=a(1615),s=a(8585);async function r(){let e=n.cookies().get("auth_token")?.value;return e||(0,s.redirect)("/login"),e}async function c(){let e=await r(),t=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";(await fetch(`${t}/admin/stats`,{headers:{Authorization:`Bearer ${e}`},cache:"no-store"})).ok||((0,n.cookies)().delete("auth_token"),(0,n.cookies)().delete("username"),(0,s.redirect)("/login"))}function i(){return{token:n.cookies().get("auth_token")?.value,username:n.cookies().get("username")?.value}}},6380:(e,t,a)=>{"use strict";a.r(t),a.d(t,{batchDeleteTempAccounts:()=>v,createTempAccount:()=>p,deleteFile:()=>k,deleteTempAccount:()=>y,exportTempAccounts:()=>j,generateTokens:()=>x,getAdminStats:()=>l,getFeedbacks:()=>m,getFiles:()=>g,getLogs:()=>u,getSimpleUsers:()=>f,getTempAccounts:()=>h,getUsers:()=>b});var n=a(4330);a(166);var s=a(1615),r=a(8585),c=a(618);let i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function d(){let e=s.cookies().get("auth_token")?.value;return{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}async function o(e,t){let a=await fetch(`${i}${e}`,{...t,headers:{...d(),...t?.headers},cache:"no-store"});if(401===a.status&&((0,s.cookies)().delete("auth_token"),(0,s.cookies)().delete("username"),(0,r.redirect)("/login")),!a.ok)throw Error(await a.text()||`API Error: ${a.status}`);return a.json()}async function l(){return o("/admin/stats")}async function b(){return o("/admin/users")}async function f(){return o("/admin/simple-users")}async function u(e){let t=new URLSearchParams;e?.username&&t.set("username",e.username),e?.operation&&t.set("operation",e.operation),e?.limit&&t.set("limit",String(e.limit));let a=t.toString()?`?${t.toString()}`:"";return o(`/admin/logs${a}`)}async function m(e){let t=new URLSearchParams;e?.feedback_type&&t.set("feedback_type",e.feedback_type),e?.status&&t.set("status",e.status),e?.limit&&t.set("limit",String(e.limit));let a=t.toString()?`?${t.toString()}`:"";return o(`/admin/feedbacks${a}`)}async function h(e){return o(`/admin/temp-accounts${e?"?include_expired=true":""}`)}async function g(e){let t=new URLSearchParams;e?.file_type&&t.set("file_type",e.file_type),e?.username&&t.set("username",e.username),e?.limit&&t.set("limit",String(e.limit));let a=t.toString()?`?${t.toString()}`:"";return o(`/admin/files${a}`)}async function x(e,t=10){return o("/admin/generate-tokens",{method:"POST",body:JSON.stringify({count:e,balance:t})})}async function p(e){return o("/admin/temp-accounts",{method:"POST",body:JSON.stringify({days_valid:e})})}async function y(e){return o(`/admin/temp-accounts/${e}`,{method:"DELETE"})}async function v(e){return o("/admin/temp-accounts/batch-delete",{method:"POST",body:JSON.stringify(e)})}async function j(e){let t=await fetch(`${i}/admin/temp-accounts/export`,{method:"POST",headers:d(),body:e?JSON.stringify(e):"[]"});if(!t.ok)throw Error("Export failed");return t.blob()}async function k(e){return o(`/admin/files/${e}`,{method:"DELETE"})}(0,c.h)([l,b,f,u,m,h,g,x,p,y,v,j,k]),(0,n.j)("258a043927e08ccdd71c91d3e63379b606f40201",l),(0,n.j)("8169b0898713d3a98a72ce59b40a0b662355e7f5",b),(0,n.j)("a6dd21c3c9b30d7cd514d605a394e13aa287e09c",f),(0,n.j)("879f36fcebbf1cc1568a46d7ee3d7e79c42cd2e5",u),(0,n.j)("854d5b6f1801a6972e4b5e08fbce4bb653a4997f",m),(0,n.j)("1a9bfd6efe5affb0bbb21cab6cc7616b94c6686c",h),(0,n.j)("8aefcfd1aa18444ddff647a9d765d712581ab5a2",g),(0,n.j)("dab1d3728bf2fb50721db5e2e7fa0ebdcfa90529",x),(0,n.j)("a904f77f4840b341b0f8eea416e7d35426925d97",p),(0,n.j)("622ce3567e2f7329dc353ec2081913520b194ef1",y),(0,n.j)("5a3aa42b0c43cc5d6aaf4c207b83081352c754c3",v),(0,n.j)("4bb502ca318ceb3ac780650a6fc18d0fe373e60c",j),(0,n.j)("2537f0970cc942e59ac62a8ce41c4e87b358ad5c",k)},5023:()=>{}};